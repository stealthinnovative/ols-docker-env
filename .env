# ==============================================================================
# CORE PRODUCTION SETTINGS (Ryzen 7900X / 4GB)
# ==============================================================================
TIMEZONE=Pacific/Honolulu
DOMAIN=yourdomain.com
EMAIL=admin@yourdomain.com

# --- Database Security ---
MYSQL_ROOT_PASSWORD=change_this_to_something_complex
MYSQL_DATABASE=wordpress
MYSQL_USER=wordpress_user
MYSQL_PASSWORD=change_this_app_password

# ==============================================================================
# PHP VERSION CONTROL (The Dynamic Switch)
# ==============================================================================
# Set PHP_VER to match the suffix of the LITESPEED_IMAGE
# To upgrade: Change both lines (e.g., to lsphp86) and run 'docker-compose up -d'
PHP_VER=lsphp85
LITESPEED_IMAGE=litespeedtech/openlitespeed:1.8.5-lsphp85

# ==============================================================================
# ADDITIONAL IMAGE VERSIONS
# ==============================================================================
MARIADB_IMAGE=mariadb:lts-noble
REDIS_IMAGE=redis:alpine
PHPMYADMIN_IMAGE=latest

# ==============================================================================
# PERFORMANCE TUNING (Scalability Guide)
# ==============================================================================

# --- Host Memory & Zswap ---
# 4GB Server: 25 | 2GB Server: 20 | 8GB Server: 40
ZSWAP_MAX_PERCENT=25
# 4GB Server: 2G | 2GB Server: 1G | 8GB Server: 4G
HOST_SWAP_SIZE=2G

# --- Container Resource Jails (Docker Limits) ---
# 4GB Server: 2g | 2GB Server: 1g   | 8GB Server: 5g
OLS_MEM_LIMIT=2g
# 4GB Server: 5g | 2GB Server: 1.5g | 8GB Server: 10g
OLS_TOTAL_LIMIT=5g
# 4GB Server: 1g | 2GB Server: 512m | 8GB Server: 2g
DB_MEM_LIMIT=1g

# --- MariaDB Performance ---
# 4GB Server: 256M | 2GB Server: 128M | 8GB Server: 1G
DB_BUFFER_POOL=256M
# 4GB Server: 151  | 2GB Server: 100  | 8GB Server: 300+
MARIADB_MAX_CONNS=151

# --- OpenLiteSpeed & PHP Workers ---
# 4GB Server: 24 | 2GB Server: 8 | 8GB Server: 48+
PHP_LSAPI_CHILDREN=24
PHP_FORK_THRESHOLD=100M
PHP_MAX_IDLE=4
OLS_WORKERS=1
CPU_AFFINITY=1

# --- PHP Application Limits ---
PHP_MEMORY_LIMIT=256M
PHP_MAX_EXECUTION_TIME=60
PHP_UPLOAD_MAX_FILESIZE=512M
PHP_POST_MAX_SIZE=512M

