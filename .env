# ==============================================================================
# WP-STACK: RYZEN 7900X / 4GB RAM / NVME
# ==============================================================================
TIMEZONE=Pacific/Honolulu
DOMAIN=yourdomain.com
EMAIL=admin@yourdomain.com

# --- Database Security ---
MYSQL_ROOT_PASSWORD=complex_root_password
MYSQL_DATABASE=wordpress
MYSQL_USER=wp_user
MYSQL_PASSWORD=complex_app_password

# --- Docker Images & PHP Version Control ---
# ðŸš€ Pinned high-performance LSPHP 8.5 build
# Update PHP Version e.g 8.5 and LSPHP Name e.g. lsphp85 to match your litespeed image.
PHP_VERSION=8.5
LSPHP_NAME=lsphp85
#LITESPEED_IMAGE=litespeedtech/openlitespeed:1.8.5-lsphp85
#MARIADB_IMAGE=mariadb:lts-noble
#REDIS_IMAGE=redis:8.4.0

# ==============================================================================
# PERFORMANCE TUNING (Scalability Guide)
# ==============================================================================
# --- Host Memory & Zswap ---
# Recommended ZSWAP / Swap Size per server RAM:
# 2GB server: ZSWAP_MAX_PERCENT=40, HOST_SWAP_SIZE=1G
# 4GB server: ZSWAP_MAX_PERCENT=50, HOST_SWAP_SIZE=2G
# 8GB server: ZSWAP_MAX_PERCENT=50, HOST_SWAP_SIZE=4G
ZSWAP_MAX_PERCENT=50
HOST_SWAP_SIZE=2G

# --- Container Resource Limits ---
# OpenLiteSpeed Memory Limits
# Recommended per server RAM with Zswap Enabled
# 2GB: OLS_MEM_RESERVE=1G OLS_MEM_LIMIT=1.5G
# 4GB: OLS_MEM_RESERVE=2G OLS_MEM_LIMIT=4G
# 8GB: OLS_MEM_RESERVE=3G OLS_MEM_LIMIT=8G
#OLS_MEM_RESERVE=2G
#OLS_MEM_LIMIT=4G


# ==============================================================================
# MariaDB: Set BOTH values per server size
# ==============================================================================
# 2GB server: 512M container â†’ 128M InnoDB
# 4GB server: 768M container â†’ 512M InnoDB
# 8GB server: 1536M container â†’ 1G InnoDB
#DB_MEM_LIMIT=768M
#DB_BUFFER_POOL=512M

# WooCommerce Surge Optimization
#DB_LOG_FILE=256M
#DB_FLUSH_COMMIT=2
#DB_MAX_PACKET=512M

# Max Connections:
#2GB: 100 | 4GB: 151 | 8GB: 300+
#MARIADB_MAX_CONNS=151

# --- OpenLiteSpeed & PHP Workers (Hybrid API/Processing Tuning) ---
# Scale based on vCPU (Workers = Max Ceiling | Idle = Core Optimization)
# 2-CPU: PHP_WORKERS=16 | PHP_MAX_IDLE=10 | OLS_MEM_LIMIT=4G
# 3-CPU: PHP_WORKERS=24 | PHP_MAX_IDLE=16 | OLS_MEM_LIMIT=6G
# 4-CPU: PHP_WORKERS=32 | PHP_MAX_IDLE=20 | OLS_MEM_LIMIT=8G
#PHP_WORKERS=24
#PHP_MAX_IDLE=16
#PHP_FORK_THRESHOLD=100M
#LSAPI_MAX_REQS=500
#OLS_WORKERS=1
#CPU_AFFINITY=1

# --- PHP Application Limits ---
#PHP_MEMORY_LIMIT=256M
#PHP_MAX_EXECUTION_TIME=60
#PHP_UPLOAD_MAX_FILESIZE=512M
#PHP_POST_MAX_SIZE=512M

#REDIS_MAX_MEMORY=128mb
#REDIS_MEM_LIMIT=256M

# ==============================================================================
# POST-INSTALL SETUP GUIDE
# ==============================================================================
# 1. Run Host Optimizer: sudo ./bin/zswap-enable
# 2. WP LSCache Plugin Redis config: Host = /var/run/redis/redis.sock | Port = 0 (unless TCP enabled)
# 3. Multi-site LSCache: Use unique "Global Key Prefix" per site, e.g. site1_
# ==============================================================================